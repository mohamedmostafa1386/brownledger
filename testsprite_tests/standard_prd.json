{
  "meta": {
    "project": "BrownLedger v2 - AI-Powered Accounting",
    "date": "2026-01-29",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "BrownLedger v2 is a production-grade, AI-powered accounting web application designed to streamline invoice management, expense tracking, client CRM, and financial insights. It leverages advanced AI capabilities to offer natural language financial chat, automated invoice creation, intelligent expense categorization, and predictive cash flow forecasting.",
  "core_goals": [
    "Provide real-time financial KPIs and insights via a centralized dashboard.",
    "Simplify invoice creation, tracking, and exporting with AI assistance.",
    "Enable comprehensive expense tracking including AI-powered receipt OCR and smart categorization.",
    "Maintain a robust client management system to track customer revenue and interactions.",
    "Offer advanced financial reporting and cash flow forecasting driven by AI.",
    "Support team collaboration with user roles and team member management.",
    "Ensure secure authentication and authorization for all users."
  ],
  "key_features": [
    "Dashboard displaying real-time KPIs, revenue charts, and recent invoices.",
    "Invoice management with create, track, export capabilities plus AI invoice generation via plain English input.",
    "Expense tracking including categorization, receipt scanning with GPT-4 Vision powered OCR, and management.",
    "Client CRM for managing client details and revenue tracking.",
    "Banking module to monitor account balances and transaction tracking.",
    "Interactive financial reports with AI-generated insights and cash flow forecasts.",
    "Team management featuring member invitations, role updates, and team overview.",
    "Robust security via Auth API supporting login, registration, and role-based authorization.",
    "Stock management including warehouse listing, stock transfers, and adjustments.",
    "AI-powered financial chat assistant for natural language queries about finances."
  ],
  "user_flow_summary": [
    "User logs in or registers through the Auth API to access the application securely.",
    "User accesses the dashboard to view real-time financial KPIs and recent activity.",
    "User creates and manages invoices, optionally describing them in natural language to generate AI-assisted invoices.",
    "User tracks expenses, uploads receipts to extract data via AI OCR, and reviews smart categorization of expenses.",
    "User manages clients by adding new clients and reviewing client revenue reports.",
    "User views banking information and monitors transactions and balances.",
    "User reviews financial reports including AI insights and forecasts to make informed decisions.",
    "User manages team members by inviting new users and updating roles to collaborate effectively.",
    "User manages stock by creating warehouses, transferring stock, and adjusting quantities as needed."
  ],
  "validation_criteria": [
    "Authentication flows are secure and protect sensitive user data.",
    "Invoices can be created, listed, exported, and AI-generated reliably with accurate data.",
    "Expense tracking correctly categorizes expenses automatically and OCR extraction is accurate.",
    "Client data is correctly stored, retrieved, and reflected in revenue metrics.",
    "Dashboard metrics update in real-time and reflect accurate financial states.",
    "Team API handles invitations, listings, and role updates effectively without errors.",
    "Stock management APIs correctly handle warehouse creation, stock transfer, and adjustments.",
    "AI chat responds correctly to natural language financial queries with appropriate and timely answers.",
    "System stability and performance meet production-grade standards as per project requirements."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js",
      "Prisma",
      "PostgreSQL"
    ],
    "features": [
      {
        "name": "Auth API",
        "description": "Authentication and authorization",
        "files": [
          "src/app/api/auth/login",
          "src/app/api/auth/register",
          "src/lib/auth.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/auth/login": {
              "post": {
                "summary": "Login user",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Invoices API",
        "description": "Manage invoices",
        "files": [
          "src/app/api/invoices/route.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/invoices": {
              "get": {
                "summary": "List invoices"
              },
              "post": {
                "summary": "Create invoice",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "clientId": {
                            "type": "string"
                          },
                          "items": {
                            "type": "array"
                          }
                        },
                        "required": [
                          "clientId",
                          "items"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Clients API",
        "description": "Manage clients",
        "files": [
          "src/app/api/clients/route.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/clients": {
              "get": {
                "summary": "List clients"
              },
              "post": {
                "summary": "Create client",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "name"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Stock API",
        "description": "Manage inventory stock, transfers and adjustments",
        "files": [
          "src/app/api/stock/adjust/route.ts",
          "src/app/api/stock/transfer/route.ts",
          "src/app/api/stock/warehouses/route.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/stock/warehouses": {
              "get": {
                "summary": "List warehouses"
              },
              "post": {
                "summary": "Create warehouse"
              }
            },
            "/api/stock/transfer": {
              "post": {
                "summary": "Transfer stock between warehouses"
              }
            },
            "/api/stock/adjust": {
              "post": {
                "summary": "Adjust stock quantity"
              }
            }
          }
        }
      },
      {
        "name": "Dashboard API",
        "description": "Get dashboard metrics",
        "files": [
          "src/app/api/dashboard/route.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/dashboard": {
              "get": {
                "summary": "Get dashboard metrics"
              }
            }
          }
        }
      },
      {
        "name": "Team API",
        "description": "Team management",
        "files": [
          "src/app/api/team/route.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/team": {
              "get": {
                "summary": "List team members"
              },
              "post": {
                "summary": "Invite team member"
              },
              "patch": {
                "summary": "Update team member role"
              }
            }
          }
        }
      }
    ]
  }
}
